!function i(r,l,d){function o(e,t){if(!l[e]){if(!r[e]){var a="function"==typeof require&&require;if(!t&&a)return a(e,!0);if(c)return c(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var s=l[e]={exports:{}};r[e][0].call(s.exports,function(t){return o(r[e][1][t]||t)},s,s.exports,i,r,l,d)}return l[e].exports}for(var c="function"==typeof require&&require,t=0;t<d.length;t++)o(d[t]);return o}({1:[function(t,e,a){"use strict";function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(a,"__esModule",{value:!0});var s=(function(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}(i,[{key:"init",value:function(){this.addListeners()}},{key:"addListeners",value:function(){var n=this;this.app.find(".get-delays").click(function(t){t.preventDefault();var e=n.app.find("#from").val(),a=n.app.find("#to").val();n.getData(e,a)}),$(document).on("keypress",function(t){if(13==t.which){var e=n.app.find("#from").val(),a=n.app.find("#to").val();n.getData(e,a)}})}},{key:"getData",value:function(t,e){var a=new XMLHttpRequest,n=this;a.open("GET",this.baseURL+"/delays/"+t+"/to/"+e+"/20?accessToken="+this.accessToken,!0),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status&&a.responseText){var t=JSON.parse(a.response);n.animateForward(),n.displayResults(t)}},a.send()}},{key:"animateForward",value:function(){this.app.find("form").addClass("slide-right"),this.app.find("#results").addClass("show-results")}},{key:"animateBackward",value:function(){this.app.find("#results").html(""),this.app.find("#results").removeClass("show-results"),this.app.find("form").removeClass("slide-right")}},{key:"displayResults",value:function(t){var e=this,a=t;if(0<a.delayedTrains.length){var i="";a.delayedTrains.forEach(function(t){var e=void 0,a=void 0,n=void 0;t.isCancelled?a=null===t.cancelReason?"No reason provided.":t.cancelReason+".":(n="Delayed"===t.etd?"No time provided.":t.etd,e=null===t.delayReason?"No reason provided.":t.delayReason+".");var s="\n\t\t\t\t\n\t\t\t\t<tr>\n\t\t\t\t\t<td>"+t.std+"</td>\n\t\t\t\t\t<td>"+t.operator+'</td>\n\t\t\t\t\t<td class="'+(t.isCancelled?"cancelled":"delayed")+'">'+(t.isCancelled?"Cancelled":"Delayed")+"</td>\n\t\t\t\t\t<td>"+(t.isCancelled?"N/A":n)+"</td>\n\t\t\t\t\t<td>"+(t.isCancelled?a:e)+"</td>\n\t\t\t\t</tr> ";i+=s});var n='\n\n\t\t\t<div class="results-header">\n\t\t\t\t<h2>There '+(1===a.delayedTrains.length?"is":"are")+" currently <b>"+a.delayedTrains.length+"</b> "+(1===a.delayedTrains.length?"issue":"issues")+" with trains from "+a.locationName+" to "+a.filterLocationName+'</h2>\n\t\t\t</div>\n\n\t\t\t<div class="results-body">\n\t\t\t\t<table>\n\t\t\t\t\t<tr class="table-header">\n\t\t\t\t\t\t<th>Normally Departs</th>\n\t\t\t\t\t\t<th>Operator</th>\n\t\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t\t<th>ETA @ '+a.locationName+'</th>\n\t\t\t\t\t\t<th class="reason">Reason</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t'+i+'\n\t\t\t\t</table>\n\t\t\t</div>\n\n\t\t\t<div class="go-back">\n\t\t\t\t<i class="fas fa-long-arrow-alt-left"></i>\n\t\t\t\t<span>back</span>\n\t\t\t</div>\n\t\t\t\n\t\t\t';this.app.find("#results").html(n)}else{var s='\n\n\t\t\t<div class="results-header">\n\t\t\t\t<h2>There are currently no delays between '+a.locationName+" and "+a.filterLocationName+'</h2>\n\t\t\t</div>\n\n\t\t\t<div class="go-back">\n\t\t\t\t<i class="fas fa-long-arrow-alt-left"></i>\n\t\t\t\t<span>back</span>\n\t\t\t</div>\n\t\t\t\n\t\t\t';this.app.find("#results").addClass("no-delays"),this.app.find("#results").html(s)}this.app.find(".go-back").click(function(){e.app.find("#results").html(""),e.animateBackward()})}}]),i);function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.app=$("#app"),this.baseURL="https://huxley.apphb.com",this.accessToken="d683dbbd-129a-40c7-92b8-3c74f2f012e4"}a.default=s},{}],2:[function(t,e,a){"use strict";var n,s=t("./App"),i=(n=s)&&n.__esModule?n:{default:n};$(document).ready(function(){(new i.default).init()})},{"./App":1}]},{},[2]);
//# sourceMappingURL=index.min.js.map
