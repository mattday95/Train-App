!function i(r,l,o){function d(e,t){if(!l[e]){if(!r[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var s=l[e]={exports:{}};r[e][0].call(s.exports,function(t){return d(r[e][1][t]||t)},s,s.exports,i,r,l,o)}return l[e].exports}for(var u="function"==typeof require&&require,t=0;t<o.length;t++)d(o[t]);return d}({1:[function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}Object.defineProperty(n,"__esModule",{value:!0});var s=(function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}(i,[{key:"init",value:function(){this.addListeners()}},{key:"addListeners",value:function(){var e=this;this.app.find(".get-delays").click(function(t){t.preventDefault(),e.runApp()}),$(document).on("keydown",function(t){39==t.which&&e.runApp()})}},{key:"runApp",value:function(){var e=this,t=this.app.find("#from").val(),n=this.app.find("#to").val();this.getDelays(t,n,function(t){e.renderResults(t,function(){$(".loading-container").addClass("loading"),setTimeout(function(){$(".loading-container").removeClass("loading"),e.animateForward()},e.loadDuration)})})}},{key:"getDelays",value:function(t,e,n){var a=new XMLHttpRequest;a.open("GET",this.baseURL+"/delays/"+t+"/to/"+e+"/20?accessToken="+this.regAccessToken,!0),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status&&a.responseText){var t=JSON.parse(a.response);console.log(t),n&&n(t)}500==a.status&&alert("invalid station input!")},a.send()}},{key:"animateForward",value:function(){this.app.find("form").addClass("slide-right"),this.app.find("#results").addClass("show-results")}},{key:"animateBackward",value:function(){this.app.find("#results").html(""),this.app.find("#results").removeClass("show-results"),this.app.find("form").removeClass("slide-right")}},{key:"renderResults",value:function(t,e){var n=this;this.app.find("#results").html("");var a=t;if(0<a.delayedTrains.length){var i="";a.delayedTrains.forEach(function(t){var e=void 0,n=void 0,a=void 0;t.isCancelled?n=null===t.cancelReason?"No reason provided.":t.cancelReason+".":(a="Delayed"===t.etd?"No time provided.":t.etd,e=null===t.delayReason?"No reason provided.":t.delayReason+".");var s="\n\t\t\t\t\n\t\t\t\t<tr>\n\t\t\t\t\t<td>"+t.std+'</td>\n\t\t\t\t\t<td class="operator">'+t.operator+'</td>\n\t\t\t\t\t<td class="'+(t.isCancelled?"cancelled":"delayed")+'">'+(t.isCancelled?"Cancelled":"Delayed")+"</td>\n\t\t\t\t\t<td>"+(t.isCancelled?"N/A":a)+'</td>\n\t\t\t\t\t<td class="reason">'+(t.isCancelled?n:e)+"</td>\n\t\t\t\t</tr> ";i+=s});var s='\n\n\t\t\t<div class="results-header">\n\t\t\t\t<h2>There '+(1===a.delayedTrains.length?"is":"are")+" currently <b>"+a.delayedTrains.length+"</b> "+(1===a.delayedTrains.length?"issue":"issues")+' with your selected route.</h2>\n\t\t\t</div>\n\n\t\t\t<div class="results-body">\n\t\t\t\t<table>\n\t\t\t\t\t<tr class="table-header">\n\t\t\t\t\t\t<th>Normally Departs</th>\n\t\t\t\t\t\t<th>Operator</th>\n\t\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t\t<th>ETA @ '+a.locationName+"</th>\n\t\t\t\t\t\t<th>Reason</th>\n\t\t\t\t\t</tr>\n\t\t\t\t\t"+i+'\n\t\t\t\t</table>\n\t\t\t</div>\n\n\t\t\t<div class="go-back">\n\t\t\t\t<i class="fas fa-long-arrow-alt-left"></i>\n\t\t\t\t<span>back</span>\n\t\t\t</div>\n\t\t\t\n\t\t\t';this.app.find("#results").removeClass("no-delays"),this.app.find("#results").html(s)}else{var r='\n\n\t\t\t<div class="results-header">\n\t\t\t\t<h2>There are currently no delays between '+a.locationName+" and "+a.filterLocationName+'</h2>\n\t\t\t</div>\n\n\t\t\t<div class="go-back">\n\t\t\t\t<i class="fas fa-long-arrow-alt-left"></i>\n\t\t\t\t<span>back</span>\n\t\t\t</div>\n\t\t\t\n\t\t\t';this.app.find("#results").addClass("no-delays"),this.app.find("#results").html(r)}this.app.find(".go-back").click(function(){n.app.find("#results").html(""),n.animateBackward()}),e&&e()}}]),i);function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.app=$("#app"),this.baseURL="https://huxley.apphb.com",this.regAccessToken="d683dbbd-129a-40c7-92b8-3c74f2f012e4",this.loadDuration=1500}n.default=s},{}],2:[function(t,e,n){"use strict";var a,s=t("./App"),i=(a=s)&&a.__esModule?a:{default:a};$(document).ready(function(){(new i.default).init()})},{"./App":1}]},{},[2]);
//# sourceMappingURL=index.min.js.map
